Release Notes — نسخة 2026.3.2

ملخص التغييرات:
- أصلحت مشكلة عرض نسخة مقطوعة من `index.html` عن طريق:
  - جعل طلب `/index.html` يعمل بنهج network-first في `sw.js`.
  - إزالة `index.html` من الـprecache وإضافة `index-v2.html` كنسخة احتياطية.
  - رفع `CACHE_VERSION` لتحديث Service Worker على أجهزة المستخدمين.
  - إضافة وسوم meta لمنع التخزين الوسيط على مستوى المتصفح والوسطاء.
- تحسينات لوحة المدير:
  - واجهة كاملة الشاشة على الأجهزة الصغيرة، تبويبات ثابتة، دعم Escape للإغلاق.
  - تحويل جداول الإدارة إلى بطاقات قابلة للطّي مع وصولية (aria attributes) ودعم لوحة المفاتيح.
- تحسين صفحة المنتجات على الجوال: شريط فلاتر قابل للطي، تحسين التباعد وزرّات اللمس.
- تحسينات PWA: تجاهل تخزين ردود غير 200، خيار `?no_cache=1` للتطوير، وشريط إعادة تحميل العملاء عند توفر إصدار جديد.

خطوات النشر ومرحلة ما بعد النشر:
1) ادفع التغييرات إلى الفرع الرئيسي وادعُ CI/CD لبناء الموقع ونشره.
2) بعد النشر، أعلِن للمستخدمين (قناة داخلية أو Slack) أن هناك "تحديث" وأنه من الأفضل إعادة تحميل الصفحة في المتصفح (يمكنهم الضغط على زر التحديث الظاهر إذا ظهر لهم).
3) إن لاحظت حالات متفرقة لمتصفحات لا تزال تعرض أخطاء، اطلب منهم تنفيذ: unregister SW + clear site data أو فتح الموقع في نافذة Incognito.
4) إن استمر ظهور مشكلة "Unexpected end of input" على مستخدم محدد، احصل على ناتج `window.__fetchIndexDiagnostics()` (status + tail) و/أو لقطة من تبويب Network لطلب `index.html` وارسلها للفريق.

تراجع سريع (Rollback):
- إذا استدعى الأمر، قم بإعادة نشر نسخة سابقة (tagged commit) قبل إصدار 2026.3.1، ثم أبلغ المستخدمين لإعادة تحميل الكاش.

مستقبلياً:
- أستبعد إضافة اختبار تكامل بسيط يتحقق من أن `/index.html` يُقدّم كاملًا (HTTP 200 ويحتوي على `</html>`) بعد النشر تلقائيًا كجزء من CI.