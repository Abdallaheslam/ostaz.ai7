TESTING CHECKLIST — سوبر ماركت الأستاذ

هدف: خطوات اختبار يدوية للتأكد من أن الواجهة والـPWA تعمل بشكل سليم بعد التحديثات.

1) تنظيف متصفح (مهم)
 - افتح نافذة متصفح عادية، ثم افتح DevTools → Application → Service Workers.
 - اضغط Unregister على أي Service Worker مسجل.
 - في Application → Clear Storage اختَر "Clear site data" ثم Reload.
 - بديل سريع: فتح نافذة Incognito عادةً يتجاوز الـSW.

2) تحميل الصفحة الرئيسية
 - فتح الصفحة الرئيسية والتأكد من ظهور "EOF_MARKER:" في Console.
 - شغّل: window.__fetchIndexDiagnostics() وتأكد أن status === 200 وأن tail ينتهي بـ </html>.

3) فحص وظيفة المنتجات
 - اذهب إلى "جميع المنتجات"، جرّب تغيير الفلاتر والفرز، تأكد أن الشبكة تُحمّل المنتجات دون أخطاء.
 - جرّب فتح Quick View وإضافة منتج للعربة.
 - جرّب مشاركة منتج (زر المشاركة) وتأكد أن النسخ للوحة تُعمل عند غياب Web Share API.

4) فحص لوحة المدير
 - سجّل دخول كمدير (تأكّد من أن حسابك يملك role: 'admin').
 - اضغط زر "لوحة التحكم" → تأكد أنها تفتح ملء الشاشة على الهاتف (محاكاة عرض صغير) وأن Escape يقوم بالإغلاق.
 - تأكد أن الجداول تتحوّل لبطاقات قابلة للطي على الشاشات الصغيرة، وأن الأزرار تعمل وتملك مساحات لمس جيدة.

5) فحص PWA / Service Worker
 - انتظر حتى يظهر شريط التحديث (إذا ظهر) واضغط "إعادة التحميل" ليُجبر على تنظيف الكاش.
 - جرّب زيارة الموقع بوسم ?no_cache=1 للتأكد من أن التنظيف يعمل.
 - تحقق أن sw.js لا يخزن ردودٍ غير 200 وأنه يستخدم index-v2.html كنسخة احتياطية إن فشل تحميل index.

6) فحص الأداء البسيط
 - على أجهزة منخفضة الموارد أو باستخدام Network Throttling (DevTools) جرّب تحميل الصفحة وتحقق من أن الإطارات الأساسية تُعرض بشكل معقول.

7) التقاط لقطات شاشة وسجل أخطاء
 - إن ظهر أي خطأ في Console، التقط لقطة شاشة وأرسل لي رسالة تحتوي على نص الخطأ وسياق الشبكة (Network tab).

إذا تحب، أجرّي هذه الفحوص على جهازك وأرسل لي أي نتائج أو لقطات شاشة؛ سأحل أي خطأ يظهر وأكرّر الاختبارات حتى نتأكد أن كل شيء "تمام".